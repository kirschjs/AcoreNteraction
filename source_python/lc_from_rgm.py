import os
import math
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation
import shutil
import imp
from matplotlib import cm, colorbar, colors
from matplotlib.ticker import FormatStrFormatter
from matplotlib.collections import LineCollection

import rad_interpolation

colors = [
    '#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b',
    '#e377c2', '#7f7f7f', '#bcbd22', '#17becf'
]

datadir = "/home/kirscher/kette_repo/AcoreNteraction/"

MeVfm = 197.3161329

lcheu = [[2, 0.4], [3, 0.6], [4, 0.7], [5, 0.8999999999999999], [
    6, 2.0000000000000004
], [7, 2.556], [8, 2.556], [9, 2.7560000000000002], [10, 3.456], [11, 3.456], [
    12, 3.456
], [13, 3.456], [14, 3.456], [15, 3.456], [16, 3.656], [
    17, 3.9560000000000004
], [18, 4.356], [19, 5.055999999999997], [20, 5.7559999999999985], [
    21, 6.355999999999999
], [22, 6.855999999999997], [23, 7.355999999999999], [24, 7.755999999999998], [
    25, 8.156
], [26, 8.556], [27, 8.956], [28, 9.255999999999998], [29, 9.655999999999997],
         [30, 9.956], [31, 10.255999999999998], [32, 10.555999999999997],
         [33, 10.856], [34, 11.155999999999999], [35, 11.969999999999974], [
             36, 12.509999999999971
         ], [37, 14.399999999999967], [38, 14.899999999999965], [
             39, 15.399999999999963
         ], [40, 15.899999999999961], [41, 16.399999999999967], [
             42, 16.099999999999998
         ], [43, 16.500000000000004], [44, 17.00000000000001], [
             45, 17.400000000000016
         ], [46, 17.800000000000022], [47, 18.200000000000028], [
             48, 18.700000000000035
         ], [49, 19.10000000000004], [50, 19.500000000000046], [
             51, 19.900000000000052
         ], [52, 20.300000000000058], [53, 20.700000000000063], [
             54, 21.10000000000007
         ], [55, 21.500000000000075], [56, 21.90000000000008], [
             57, 22.300000000000086
         ], [58, 22.70000000000009], [59, 23.000000000000096], [
             60, 23.4000000000001
         ], [61, 23.800000000000107], [62, 24.200000000000113], [
             63, 24.60000000000012
         ], [64, 24.900000000000123], [65, 25.30000000000013], [
             66, 25.700000000000134
         ], [67, 26.10000000000014], [68, 26.400000000000144], [
             69, 26.80000000000015
         ], [70, 27.100000000000154], [71, 27.50000000000016], [
             72, 27.900000000000166
         ], [73, 30.700000000000074], [74, 31.10000000000008], [
             75, 31.500000000000085
         ], [76, 31.90000000000009], [77, 32.200000000000095], [
             78, 32.6000000000001
         ], [79, 33.00000000000011], [80, 33.40000000000011], [
             81, 33.80000000000012
         ], [82, 34.200000000000124], [83, 34.60000000000013], [
             84, 34.900000000000134
         ], [85, 35.30000000000014], [86, 35.700000000000145], [
             87, 36.10000000000015
         ], [88, 36.500000000000156], [89, 36.80000000000016], [
             90, 37.200000000000166
         ], [91, 37.60000000000017], [92, 38.00000000000018], [
             93, 38.30000000000018
         ], [94, 38.70000000000019], [95, 39.10000000000019], [
             96, 39.4000000000002
         ], [97, 39.8000000000002], [98, 40.20000000000021], [
             99, 40.50000000000021
         ], [100, 40.90000000000022], [101, 41.20000000000022], [
             102, 41.60000000000023
         ], [103, 42.000000000000234], [104, 42.30000000000024], [
             105, 42.700000000000244
         ], [106, 43.00000000000025], [107, 43.400000000000254], [
             108, 43.70000000000026
         ], [109, 44.100000000000264], [110, 44.50000000000027]]

data = [line for line in open(datadir + 'lc4_from_rgm_3-30.dat')][1:]
anz = len(data[0].strip().split()) - 1

f = plt.figure(figsize=(6, 5), dpi=75)
f.suptitle(
    r'non-local and $a=\kappa\cdot\frac{3\,(A-1)^2}{2\,A^{5/3}}$', fontsize=14)

ax1 = f.add_subplot(111)

ax1.set_xlabel(r'$A$', fontsize=16)
ax1.set_ylabel(r'$\lambda_c\;[fm^{-1}]$', fontsize=16)

ax1.plot(
    [float(line.strip().split()[0]) for line in data],
    np.array([float(line.strip().split()[1]) for line in data]),
    label=r'(SVM) $(A+1)$-body',
    c=colors[3],
    ls='-',
    lw=2)

ax1.plot(
    [aa[0] for aa in lcheu], [aa[1] for aa in lcheu],
    label=r'(RGM) $2$-body',
    c=colors[3],
    ls=':')

#ax1.yaxis.set_major_formatter(FormatStrFormatter('%d'))
plt.legend(loc='best', numpoints=1, fontsize=14)

strFile = 'lc_vgl.pdf'
if os.path.isfile(strFile):
    os.remove(strFile)
plt.savefig(strFile)
plt.savefig(strFile)